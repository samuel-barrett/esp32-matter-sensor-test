\hypertarget{group__scd30}{}\doxysection{scd30}
\label{group__scd30}\index{scd30@{scd30}}
\doxysubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\mbox{\Hypertarget{group__scd30_gaaed716e9b9df4037a22cd8c33be5a7ad}\label{group__scd30_gaaed716e9b9df4037a22cd8c33be5a7ad}} 
\#define {\bfseries SCD30\+\_\+\+I2\+C\+\_\+\+ADDR}~0x61
\end{DoxyCompactItemize}
\doxysubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__scd30_ga7e74e8958097c5d8c4eff114f38514e4}{scd30\+\_\+init\+\_\+desc}} (\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$dev, i2c\+\_\+port\+\_\+t port, gpio\+\_\+num\+\_\+t sda\+\_\+gpio, gpio\+\_\+num\+\_\+t scl\+\_\+gpio)
\begin{DoxyCompactList}\small\item\em Initialize device descriptor. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__scd30_ga326d30ace5c07899d06278f19e701e4b}{scd30\+\_\+free\+\_\+desc}} (\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$dev)
\begin{DoxyCompactList}\small\item\em Free device descriptor. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__scd30_ga8dc0267ebc4d1f55dd37c232f170de0a}{scd30\+\_\+trigger\+\_\+continuous\+\_\+measurement}} (\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$dev, uint16\+\_\+t p\+\_\+comp)
\begin{DoxyCompactList}\small\item\em Trigger continuous measurement. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__scd30_ga0efd2e8ffc8a36be40537f4df0ba03d2}{scd30\+\_\+stop\+\_\+continuous\+\_\+measurement}} (\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$dev)
\begin{DoxyCompactList}\small\item\em Stop continuous measurement. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__scd30_gab0515da11e6538d46030636ba33d626f}{scd30\+\_\+get\+\_\+measurement\+\_\+interval}} (\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$dev, uint16\+\_\+t $\ast$interval\+\_\+seconds)
\begin{DoxyCompactList}\small\item\em Get measurement interval. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__scd30_ga3edcabb472bf826cd939abad3ffa731e}{scd30\+\_\+set\+\_\+measurement\+\_\+interval}} (\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$dev, uint16\+\_\+t interval\+\_\+seconds)
\begin{DoxyCompactList}\small\item\em Set measurement interval. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__scd30_ga660c48982230fa802ba1cbedea060ec8}{scd30\+\_\+get\+\_\+data\+\_\+ready\+\_\+status}} (\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$dev, bool $\ast$data\+\_\+ready)
\begin{DoxyCompactList}\small\item\em Check whether new measurement data is available for read-\/out. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__scd30_gacce78315e77d0f0b51c2463a40672c46}{scd30\+\_\+read\+\_\+measurement}} (\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$dev, float $\ast$co2, float $\ast$temperature, float $\ast$humidity)
\begin{DoxyCompactList}\small\item\em Read sensor output and convert. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__scd30_ga99cb1dad34db5be75cb02ff6e625bee9}{scd30\+\_\+get\+\_\+automatic\+\_\+self\+\_\+calibration}} (\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$dev, bool $\ast$enabled)
\begin{DoxyCompactList}\small\item\em Get automatic self calibration (ASC) state. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__scd30_ga9cba9ed715438982fb1a0a043f19e3fd}{scd30\+\_\+set\+\_\+automatic\+\_\+self\+\_\+calibration}} (\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$dev, bool enabled)
\begin{DoxyCompactList}\small\item\em Enable or disable automatic self calibration (ASC). \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__scd30_gaf8d759c7efb52e6afc6b5d5fbe461573}{scd30\+\_\+get\+\_\+forced\+\_\+recalibration\+\_\+value}} (\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$dev, uint16\+\_\+t $\ast$correction\+\_\+value)
\begin{DoxyCompactList}\small\item\em Get Forced Recalibration Value. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__scd30_ga3d2663d0760e200c895e694b901ca500}{scd30\+\_\+set\+\_\+forced\+\_\+recalibration\+\_\+value}} (\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$dev, uint16\+\_\+t target\+\_\+co2\+\_\+concentration)
\begin{DoxyCompactList}\small\item\em Set Forced Recalibration Value. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__scd30_gae1d045b0f71d924a8c7dda88ed9a5850}{scd30\+\_\+get\+\_\+temperature\+\_\+offset\+\_\+ticks}} (\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$dev, uint16\+\_\+t $\ast$t\+\_\+offset)
\begin{DoxyCompactList}\small\item\em Get temperature offset in ticks. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__scd30_gab4d4017195cf51e8329f575a5e16445c}{scd30\+\_\+get\+\_\+temperature\+\_\+offset}} (\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$dev, float $\ast$t\+\_\+offset)
\begin{DoxyCompactList}\small\item\em Get temperature offset in °C. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__scd30_ga22c1b1d7a9b0af1c5beac4c05c4e0030}{scd30\+\_\+set\+\_\+temperature\+\_\+offset\+\_\+ticks}} (\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$dev, uint16\+\_\+t t\+\_\+offset)
\begin{DoxyCompactList}\small\item\em Set temperature offset in ticks. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__scd30_ga2071edec92279dd1c5d2321c156803b9}{scd30\+\_\+set\+\_\+temperature\+\_\+offset}} (\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$dev, float t\+\_\+offset)
\begin{DoxyCompactList}\small\item\em Set temperature offset in °C. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__scd30_ga0e97471618bf4d3cf4f52f12f68bad9e}{scd30\+\_\+get\+\_\+sensor\+\_\+altitude}} (\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$dev, uint16\+\_\+t $\ast$altitude)
\begin{DoxyCompactList}\small\item\em Get configured sensor altitude. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__scd30_ga5fa41208b3ce68efc8d1c21f872ca7c1}{scd30\+\_\+set\+\_\+sensor\+\_\+altitude}} (\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$dev, uint16\+\_\+t altitude)
\begin{DoxyCompactList}\small\item\em Set sensor altitude in meters above sea level. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__scd30_gaf2758bbf909dfd593f4d93ac6e514a06}{scd30\+\_\+read\+\_\+firmware\+\_\+version}} (\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$dev, uint16\+\_\+t $\ast$firmware\+\_\+version)
\begin{DoxyCompactList}\small\item\em Get firmware version. \end{DoxyCompactList}\item 
esp\+\_\+err\+\_\+t \mbox{\hyperlink{group__scd30_gaa3fc071ef49233b614b35da1f2e169a8}{scd30\+\_\+soft\+\_\+reset}} (\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$dev)
\begin{DoxyCompactList}\small\item\em Reset the sensor. \end{DoxyCompactList}\end{DoxyCompactItemize}


\doxysubsection{Detailed Description}
ESP-\/\+IDF driver for Sensirion SCD30 CO2 sensor.

Adapted from \href{https://github.com/UncleRus/esp-idf-lib/tree/master/components/scd4x}{\texttt{ https\+://github.\+com/\+Uncle\+Rus/esp-\/idf-\/lib/tree/master/components/scd4x}}

Copyright (c) 2021, Sensirion AG Copyright (c) 2021 Ruslan V. Uss \href{mailto:unclerus@gmail.com}{\texttt{ unclerus@gmail.\+com}} Copyright (c) 2021 Nate Usher \href{mailto:n.usher87@gmail.com}{\texttt{ n.\+usher87@gmail.\+com}}

BSD Licensed as described in the file LICENSE 

\doxysubsection{Function Documentation}
\mbox{\Hypertarget{group__scd30_ga326d30ace5c07899d06278f19e701e4b}\label{group__scd30_ga326d30ace5c07899d06278f19e701e4b}} 
\index{scd30@{scd30}!scd30\_free\_desc@{scd30\_free\_desc}}
\index{scd30\_free\_desc@{scd30\_free\_desc}!scd30@{scd30}}
\doxysubsubsection{\texorpdfstring{scd30\_free\_desc()}{scd30\_free\_desc()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t scd30\+\_\+free\+\_\+desc (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$}]{dev }\end{DoxyParamCaption})}



Free device descriptor. 


\begin{DoxyParams}{Parameters}
{\em dev} & Device descriptor \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily ESP\+\_\+\+OK} on success 
\end{DoxyReturn}
\mbox{\Hypertarget{group__scd30_ga99cb1dad34db5be75cb02ff6e625bee9}\label{group__scd30_ga99cb1dad34db5be75cb02ff6e625bee9}} 
\index{scd30@{scd30}!scd30\_get\_automatic\_self\_calibration@{scd30\_get\_automatic\_self\_calibration}}
\index{scd30\_get\_automatic\_self\_calibration@{scd30\_get\_automatic\_self\_calibration}!scd30@{scd30}}
\doxysubsubsection{\texorpdfstring{scd30\_get\_automatic\_self\_calibration()}{scd30\_get\_automatic\_self\_calibration()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t scd30\+\_\+get\+\_\+automatic\+\_\+self\+\_\+calibration (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$}]{dev,  }\item[{bool $\ast$}]{enabled }\end{DoxyParamCaption})}



Get automatic self calibration (ASC) state. 

By default, the ASC is disabled.


\begin{DoxyParams}{Parameters}
{\em dev} & Device descriptor. \\
\hline
{\em enabled} & true if ASC is enabled, false otherwise \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily ESP\+\_\+\+OK} on success 
\end{DoxyReturn}
\mbox{\Hypertarget{group__scd30_ga660c48982230fa802ba1cbedea060ec8}\label{group__scd30_ga660c48982230fa802ba1cbedea060ec8}} 
\index{scd30@{scd30}!scd30\_get\_data\_ready\_status@{scd30\_get\_data\_ready\_status}}
\index{scd30\_get\_data\_ready\_status@{scd30\_get\_data\_ready\_status}!scd30@{scd30}}
\doxysubsubsection{\texorpdfstring{scd30\_get\_data\_ready\_status()}{scd30\_get\_data\_ready\_status()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t scd30\+\_\+get\+\_\+data\+\_\+ready\+\_\+status (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$}]{dev,  }\item[{bool $\ast$}]{data\+\_\+ready }\end{DoxyParamCaption})}



Check whether new measurement data is available for read-\/out. 


\begin{DoxyParams}{Parameters}
{\em dev} & Device descriptor \\
\hline
{\em data\+\_\+ready} & true if data is ready, false otherwise \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily ESP\+\_\+\+OK} on success 
\end{DoxyReturn}
\mbox{\Hypertarget{group__scd30_gaf8d759c7efb52e6afc6b5d5fbe461573}\label{group__scd30_gaf8d759c7efb52e6afc6b5d5fbe461573}} 
\index{scd30@{scd30}!scd30\_get\_forced\_recalibration\_value@{scd30\_get\_forced\_recalibration\_value}}
\index{scd30\_get\_forced\_recalibration\_value@{scd30\_get\_forced\_recalibration\_value}!scd30@{scd30}}
\doxysubsubsection{\texorpdfstring{scd30\_get\_forced\_recalibration\_value()}{scd30\_get\_forced\_recalibration\_value()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t scd30\+\_\+get\+\_\+forced\+\_\+recalibration\+\_\+value (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$}]{dev,  }\item[{uint16\+\_\+t $\ast$}]{correction\+\_\+value }\end{DoxyParamCaption})}



Get Forced Recalibration Value. 

See scd\+\_\+30\+\_\+set\+\_\+forced\+\_\+recalibration\+\_\+value.

The most recently used reference value is retained in volatile memory and can be read out with the command sequence given below. After repowering the sensor, the command will return the standard reference value of 400 ppm.


\begin{DoxyParams}{Parameters}
{\em dev} & Device descriptor. \\
\hline
{\em correction\+\_\+value} & FRC correction value in CO₂ ppm\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily ESP\+\_\+\+OK} on success 
\end{DoxyReturn}
\mbox{\Hypertarget{group__scd30_gab0515da11e6538d46030636ba33d626f}\label{group__scd30_gab0515da11e6538d46030636ba33d626f}} 
\index{scd30@{scd30}!scd30\_get\_measurement\_interval@{scd30\_get\_measurement\_interval}}
\index{scd30\_get\_measurement\_interval@{scd30\_get\_measurement\_interval}!scd30@{scd30}}
\doxysubsubsection{\texorpdfstring{scd30\_get\_measurement\_interval()}{scd30\_get\_measurement\_interval()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t scd30\+\_\+get\+\_\+measurement\+\_\+interval (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$}]{dev,  }\item[{uint16\+\_\+t $\ast$}]{interval\+\_\+seconds }\end{DoxyParamCaption})}



Get measurement interval. 

Gets the interval used bythe SCD30 sensor to measure in continuous measurement mode. Saved in non-\/volatile memory.


\begin{DoxyParams}{Parameters}
{\em dev} & Device descriptor \\
\hline
{\em interval\+\_\+seconds} & Measurement interval in seconds\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily ESP\+\_\+\+OK} on success 
\end{DoxyReturn}
\mbox{\Hypertarget{group__scd30_ga0e97471618bf4d3cf4f52f12f68bad9e}\label{group__scd30_ga0e97471618bf4d3cf4f52f12f68bad9e}} 
\index{scd30@{scd30}!scd30\_get\_sensor\_altitude@{scd30\_get\_sensor\_altitude}}
\index{scd30\_get\_sensor\_altitude@{scd30\_get\_sensor\_altitude}!scd30@{scd30}}
\doxysubsubsection{\texorpdfstring{scd30\_get\_sensor\_altitude()}{scd30\_get\_sensor\_altitude()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t scd30\+\_\+get\+\_\+sensor\+\_\+altitude (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$}]{dev,  }\item[{uint16\+\_\+t $\ast$}]{altitude }\end{DoxyParamCaption})}



Get configured sensor altitude. 

Get configured sensor altitude in meters above sea level. Per default, the sensor altitude is set to 0 meter above sea-\/level.

\begin{DoxyNote}{Note}
Only available in idle mode.
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em dev} & Device descriptor. \\
\hline
{\em altitude} & Sensor altitude in meters. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily ESP\+\_\+\+OK} on success 
\end{DoxyReturn}
\mbox{\Hypertarget{group__scd30_gab4d4017195cf51e8329f575a5e16445c}\label{group__scd30_gab4d4017195cf51e8329f575a5e16445c}} 
\index{scd30@{scd30}!scd30\_get\_temperature\_offset@{scd30\_get\_temperature\_offset}}
\index{scd30\_get\_temperature\_offset@{scd30\_get\_temperature\_offset}!scd30@{scd30}}
\doxysubsubsection{\texorpdfstring{scd30\_get\_temperature\_offset()}{scd30\_get\_temperature\_offset()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t scd30\+\_\+get\+\_\+temperature\+\_\+offset (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$}]{dev,  }\item[{float $\ast$}]{t\+\_\+offset }\end{DoxyParamCaption})}



Get temperature offset in °C. 

See \mbox{\hyperlink{group__scd30_gae1d045b0f71d924a8c7dda88ed9a5850}{scd30\+\_\+get\+\_\+temperature\+\_\+offset\+\_\+ticks()}} for more details.


\begin{DoxyParams}{Parameters}
{\em dev} & Device descriptor \\
\hline
{\em t\+\_\+offset} & Temperature offset in degrees Celsius (°C) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily ESP\+\_\+\+OK} on success 
\end{DoxyReturn}
\mbox{\Hypertarget{group__scd30_gae1d045b0f71d924a8c7dda88ed9a5850}\label{group__scd30_gae1d045b0f71d924a8c7dda88ed9a5850}} 
\index{scd30@{scd30}!scd30\_get\_temperature\_offset\_ticks@{scd30\_get\_temperature\_offset\_ticks}}
\index{scd30\_get\_temperature\_offset\_ticks@{scd30\_get\_temperature\_offset\_ticks}!scd30@{scd30}}
\doxysubsubsection{\texorpdfstring{scd30\_get\_temperature\_offset\_ticks()}{scd30\_get\_temperature\_offset\_ticks()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t scd30\+\_\+get\+\_\+temperature\+\_\+offset\+\_\+ticks (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$}]{dev,  }\item[{uint16\+\_\+t $\ast$}]{t\+\_\+offset }\end{DoxyParamCaption})}



Get temperature offset in ticks. 

Get the current temperature offset value saved in non-\/volatile memory. ~\newline


\begin{DoxyNote}{Note}
Only available in idle mode.
\end{DoxyNote}

\begin{DoxyParams}{Parameters}
{\em dev} & Device descriptor \\
\hline
{\em t\+\_\+offset} & Temperature offset. Convert value to °C by\+: value $\ast$ 100; \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily ESP\+\_\+\+OK} on success 
\end{DoxyReturn}
\mbox{\Hypertarget{group__scd30_ga7e74e8958097c5d8c4eff114f38514e4}\label{group__scd30_ga7e74e8958097c5d8c4eff114f38514e4}} 
\index{scd30@{scd30}!scd30\_init\_desc@{scd30\_init\_desc}}
\index{scd30\_init\_desc@{scd30\_init\_desc}!scd30@{scd30}}
\doxysubsubsection{\texorpdfstring{scd30\_init\_desc()}{scd30\_init\_desc()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t scd30\+\_\+init\+\_\+desc (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$}]{dev,  }\item[{i2c\+\_\+port\+\_\+t}]{port,  }\item[{gpio\+\_\+num\+\_\+t}]{sda\+\_\+gpio,  }\item[{gpio\+\_\+num\+\_\+t}]{scl\+\_\+gpio }\end{DoxyParamCaption})}



Initialize device descriptor. 


\begin{DoxyParams}{Parameters}
{\em dev} & Device descriptor \\
\hline
{\em port} & I2C port \\
\hline
{\em sda\+\_\+gpio} & SDA GPIO \\
\hline
{\em scl\+\_\+gpio} & SCL GPIO \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily ESP\+\_\+\+OK} on success 
\end{DoxyReturn}
\mbox{\Hypertarget{group__scd30_gaf2758bbf909dfd593f4d93ac6e514a06}\label{group__scd30_gaf2758bbf909dfd593f4d93ac6e514a06}} 
\index{scd30@{scd30}!scd30\_read\_firmware\_version@{scd30\_read\_firmware\_version}}
\index{scd30\_read\_firmware\_version@{scd30\_read\_firmware\_version}!scd30@{scd30}}
\doxysubsubsection{\texorpdfstring{scd30\_read\_firmware\_version()}{scd30\_read\_firmware\_version()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t scd30\+\_\+read\+\_\+firmware\+\_\+version (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$}]{dev,  }\item[{uint16\+\_\+t $\ast$}]{firmware\+\_\+version }\end{DoxyParamCaption})}



Get firmware version. 

Following command can be used to read out the firmware version of SCD30 module The MSB is the major firmware version, the LSB is the minor firmware version 
\begin{DoxyParams}{Parameters}
{\em dev} & Device descriptor \\
\hline
{\em firmware\+\_\+version} & Firmware version\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily ESP\+\_\+\+OK} on success 
\end{DoxyReturn}
\mbox{\Hypertarget{group__scd30_gacce78315e77d0f0b51c2463a40672c46}\label{group__scd30_gacce78315e77d0f0b51c2463a40672c46}} 
\index{scd30@{scd30}!scd30\_read\_measurement@{scd30\_read\_measurement}}
\index{scd30\_read\_measurement@{scd30\_read\_measurement}!scd30@{scd30}}
\doxysubsubsection{\texorpdfstring{scd30\_read\_measurement()}{scd30\_read\_measurement()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t scd30\+\_\+read\+\_\+measurement (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$}]{dev,  }\item[{float $\ast$}]{co2,  }\item[{float $\ast$}]{temperature,  }\item[{float $\ast$}]{humidity }\end{DoxyParamCaption})}



Read sensor output and convert. 

When new measurement data is available it can be read out with the following command. Make sure that the measurement is completed by calling \mbox{\hyperlink{group__scd30_ga660c48982230fa802ba1cbedea060ec8}{scd30\+\_\+get\+\_\+data\+\_\+ready\+\_\+status()}}


\begin{DoxyParams}{Parameters}
{\em dev} & Device descriptor \\
\hline
{\em co2} & CO₂ concentration in ppm \\
\hline
{\em temperature} & Temperature in degrees Celsius (°C) \\
\hline
{\em humidity} & Relative humidity in percent RH \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily ESP\+\_\+\+OK} on success 
\end{DoxyReturn}
\mbox{\Hypertarget{group__scd30_ga9cba9ed715438982fb1a0a043f19e3fd}\label{group__scd30_ga9cba9ed715438982fb1a0a043f19e3fd}} 
\index{scd30@{scd30}!scd30\_set\_automatic\_self\_calibration@{scd30\_set\_automatic\_self\_calibration}}
\index{scd30\_set\_automatic\_self\_calibration@{scd30\_set\_automatic\_self\_calibration}!scd30@{scd30}}
\doxysubsubsection{\texorpdfstring{scd30\_set\_automatic\_self\_calibration()}{scd30\_set\_automatic\_self\_calibration()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t scd30\+\_\+set\+\_\+automatic\+\_\+self\+\_\+calibration (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$}]{dev,  }\item[{bool}]{enabled }\end{DoxyParamCaption})}



Enable or disable automatic self calibration (ASC). 

By default, the ASC is disabled.


\begin{DoxyParams}{Parameters}
{\em dev} & Device descriptor. \\
\hline
{\em enabled} & true to enable ASC, false to disable ASC \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily ESP\+\_\+\+OK} on success 
\end{DoxyReturn}
\mbox{\Hypertarget{group__scd30_ga3d2663d0760e200c895e694b901ca500}\label{group__scd30_ga3d2663d0760e200c895e694b901ca500}} 
\index{scd30@{scd30}!scd30\_set\_forced\_recalibration\_value@{scd30\_set\_forced\_recalibration\_value}}
\index{scd30\_set\_forced\_recalibration\_value@{scd30\_set\_forced\_recalibration\_value}!scd30@{scd30}}
\doxysubsubsection{\texorpdfstring{scd30\_set\_forced\_recalibration\_value()}{scd30\_set\_forced\_recalibration\_value()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t scd30\+\_\+set\+\_\+forced\+\_\+recalibration\+\_\+value (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$}]{dev,  }\item[{uint16\+\_\+t}]{target\+\_\+co2\+\_\+concentration }\end{DoxyParamCaption})}



Set Forced Recalibration Value. 

Forced recalibration (FRC) is used to compensate for sensor drifts when a reference value of the CO2 concentration in close proximity to the SCD30 is available. For best results,the sensor has to be run in a stable environment in continuous mode at a measurement rateof 2s for at least two minutes before applying the FRC command and sending the reference value. Setting a reference CO2 concentration by the method described here will always supersede corrections from the ASC

Imposes a permanent update to the calibration curve which persists after repowering the sensor. 
\begin{DoxyParams}{Parameters}
{\em dev} & Device descriptor. \\
\hline
{\em target\+\_\+co2\+\_\+concentration} & Target CO₂ concentration in ppm. (400 \texorpdfstring{$<$}{<}= val \texorpdfstring{$<$}{<}= 2000)\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily ESP\+\_\+\+OK} on success 
\end{DoxyReturn}
\mbox{\Hypertarget{group__scd30_ga3edcabb472bf826cd939abad3ffa731e}\label{group__scd30_ga3edcabb472bf826cd939abad3ffa731e}} 
\index{scd30@{scd30}!scd30\_set\_measurement\_interval@{scd30\_set\_measurement\_interval}}
\index{scd30\_set\_measurement\_interval@{scd30\_set\_measurement\_interval}!scd30@{scd30}}
\doxysubsubsection{\texorpdfstring{scd30\_set\_measurement\_interval()}{scd30\_set\_measurement\_interval()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t scd30\+\_\+set\+\_\+measurement\+\_\+interval (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$}]{dev,  }\item[{uint16\+\_\+t}]{interval\+\_\+seconds }\end{DoxyParamCaption})}



Set measurement interval. 

Sets the interval used bythe SCD30 sensor to measure in continuous measurement mode. Saved in non-\/volatile memory.


\begin{DoxyParams}{Parameters}
{\em dev} & Device descriptor \\
\hline
{\em interval\+\_\+seconds} & Measurement interval in seconds\\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily ESP\+\_\+\+OK} on success 
\end{DoxyReturn}
\mbox{\Hypertarget{group__scd30_ga5fa41208b3ce68efc8d1c21f872ca7c1}\label{group__scd30_ga5fa41208b3ce68efc8d1c21f872ca7c1}} 
\index{scd30@{scd30}!scd30\_set\_sensor\_altitude@{scd30\_set\_sensor\_altitude}}
\index{scd30\_set\_sensor\_altitude@{scd30\_set\_sensor\_altitude}!scd30@{scd30}}
\doxysubsubsection{\texorpdfstring{scd30\_set\_sensor\_altitude()}{scd30\_set\_sensor\_altitude()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t scd30\+\_\+set\+\_\+sensor\+\_\+altitude (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$}]{dev,  }\item[{uint16\+\_\+t}]{altitude }\end{DoxyParamCaption})}



Set sensor altitude in meters above sea level. 

Note that setting a sensor altitude to the sensor overrides any pressure compensation based on a previously set ambient pressure.


\begin{DoxyParams}{Parameters}
{\em dev} & Device descriptor. \\
\hline
{\em altitude} & Sensor altitude in meters. \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily ESP\+\_\+\+OK} on success 
\end{DoxyReturn}
\mbox{\Hypertarget{group__scd30_ga2071edec92279dd1c5d2321c156803b9}\label{group__scd30_ga2071edec92279dd1c5d2321c156803b9}} 
\index{scd30@{scd30}!scd30\_set\_temperature\_offset@{scd30\_set\_temperature\_offset}}
\index{scd30\_set\_temperature\_offset@{scd30\_set\_temperature\_offset}!scd30@{scd30}}
\doxysubsubsection{\texorpdfstring{scd30\_set\_temperature\_offset()}{scd30\_set\_temperature\_offset()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t scd30\+\_\+set\+\_\+temperature\+\_\+offset (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$}]{dev,  }\item[{float}]{t\+\_\+offset }\end{DoxyParamCaption})}



Set temperature offset in °C. 

See \mbox{\hyperlink{group__scd30_ga22c1b1d7a9b0af1c5beac4c05c4e0030}{scd30\+\_\+set\+\_\+temperature\+\_\+offset\+\_\+ticks()}} for more details.


\begin{DoxyParams}{Parameters}
{\em dev} & Device descriptor \\
\hline
{\em t\+\_\+offset} & Temperature offset in degrees Celsius (°C) \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily ESP\+\_\+\+OK} on success 
\end{DoxyReturn}
\mbox{\Hypertarget{group__scd30_ga22c1b1d7a9b0af1c5beac4c05c4e0030}\label{group__scd30_ga22c1b1d7a9b0af1c5beac4c05c4e0030}} 
\index{scd30@{scd30}!scd30\_set\_temperature\_offset\_ticks@{scd30\_set\_temperature\_offset\_ticks}}
\index{scd30\_set\_temperature\_offset\_ticks@{scd30\_set\_temperature\_offset\_ticks}!scd30@{scd30}}
\doxysubsubsection{\texorpdfstring{scd30\_set\_temperature\_offset\_ticks()}{scd30\_set\_temperature\_offset\_ticks()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t scd30\+\_\+set\+\_\+temperature\+\_\+offset\+\_\+ticks (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$}]{dev,  }\item[{uint16\+\_\+t}]{t\+\_\+offset }\end{DoxyParamCaption})}



Set temperature offset in ticks. 

Set the temperature offset value to be saved in non-\/volatile memory. The last set value will be used for temperature offset compensation after repowering.


\begin{DoxyParams}{Parameters}
{\em dev} & Device descriptor \\
\hline
{\em t\+\_\+offset} & Temperature offset. Convert °C to value by\+: T / 100; \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily ESP\+\_\+\+OK} on success 
\end{DoxyReturn}
\mbox{\Hypertarget{group__scd30_gaa3fc071ef49233b614b35da1f2e169a8}\label{group__scd30_gaa3fc071ef49233b614b35da1f2e169a8}} 
\index{scd30@{scd30}!scd30\_soft\_reset@{scd30\_soft\_reset}}
\index{scd30\_soft\_reset@{scd30\_soft\_reset}!scd30@{scd30}}
\doxysubsubsection{\texorpdfstring{scd30\_soft\_reset()}{scd30\_soft\_reset()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t scd30\+\_\+soft\+\_\+reset (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$}]{dev }\end{DoxyParamCaption})}



Reset the sensor. 

Soft reset mechanism that forces the sensor into the same state as after powering up After soft reset the sensor will reload all calibrated data.


\begin{DoxyParams}{Parameters}
{\em dev} & Device descriptor \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily ESP\+\_\+\+OK} on success 
\end{DoxyReturn}
\mbox{\Hypertarget{group__scd30_ga0efd2e8ffc8a36be40537f4df0ba03d2}\label{group__scd30_ga0efd2e8ffc8a36be40537f4df0ba03d2}} 
\index{scd30@{scd30}!scd30\_stop\_continuous\_measurement@{scd30\_stop\_continuous\_measurement}}
\index{scd30\_stop\_continuous\_measurement@{scd30\_stop\_continuous\_measurement}!scd30@{scd30}}
\doxysubsubsection{\texorpdfstring{scd30\_stop\_continuous\_measurement()}{scd30\_stop\_continuous\_measurement()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t scd30\+\_\+stop\+\_\+continuous\+\_\+measurement (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$}]{dev }\end{DoxyParamCaption})}



Stop continuous measurement. 

Stops the continuous measurement of the SCD30.


\begin{DoxyParams}{Parameters}
{\em dev} & Device descriptor \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily ESP\+\_\+\+OK} on success 
\end{DoxyReturn}
\mbox{\Hypertarget{group__scd30_ga8dc0267ebc4d1f55dd37c232f170de0a}\label{group__scd30_ga8dc0267ebc4d1f55dd37c232f170de0a}} 
\index{scd30@{scd30}!scd30\_trigger\_continuous\_measurement@{scd30\_trigger\_continuous\_measurement}}
\index{scd30\_trigger\_continuous\_measurement@{scd30\_trigger\_continuous\_measurement}!scd30@{scd30}}
\doxysubsubsection{\texorpdfstring{scd30\_trigger\_continuous\_measurement()}{scd30\_trigger\_continuous\_measurement()}}
{\footnotesize\ttfamily esp\+\_\+err\+\_\+t scd30\+\_\+trigger\+\_\+continuous\+\_\+measurement (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{structi2c__dev__t}{i2c\+\_\+dev\+\_\+t}} $\ast$}]{dev,  }\item[{uint16\+\_\+t}]{p\+\_\+comp }\end{DoxyParamCaption})}



Trigger continuous measurement. 

Signal update interval default is 2 seconds.


\begin{DoxyParams}{Parameters}
{\em dev} & Device descriptor \\
\hline
{\em p\+\_\+comp} & Optional ambient pressure compensation in m\+Bar, 0 to deactivate \\
\hline
\end{DoxyParams}
\begin{DoxyReturn}{Returns}
{\ttfamily ESP\+\_\+\+OK} on success 
\end{DoxyReturn}
