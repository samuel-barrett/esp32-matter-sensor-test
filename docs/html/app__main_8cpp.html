<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>ESP32 Matter Sensor Test: main/app_main.cpp File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">ESP32 Matter Sensor Test
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_5c982d53a68cdbcd421152b4020263a9.html">main</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a> &#124;
<a href="#var-members">Variables</a>  </div>
  <div class="headertitle"><div class="title">app_main.cpp File Reference</div></div>
</div><!--header-->
<div class="contents">

<p>Main application file for the ESP32 <a class="el" href="struct_matter.html" title="Holds information related to the scd30 as matter attribute values.">Matter</a> Sensor Test.  
<a href="#details">More...</a></p>
<div class="textblock"><code>#include &lt;nvs_flash.h&gt;</code><br />
<code>#include &lt;esp_matter.h&gt;</code><br />
<code>#include &lt;esp_matter_core.h&gt;</code><br />
<code>#include &lt;string&gt;</code><br />
<code>#include &lt;<a class="el" href="i2cdev_8h_source.html">i2cdev.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="bh1750_8h_source.html">bh1750.h</a>&gt;</code><br />
<code>#include &lt;<a class="el" href="scd30_8h_source.html">scd30.h</a>&gt;</code><br />
<code>#include &lt;freertos/task.h&gt;</code><br />
<code>#include &lt;esp_log.h&gt;</code><br />
<code>#include &lt;esp_err.h&gt;</code><br />
<code>#include &lt;<a class="el" href="app__priv_8h_source.html">app_priv.h</a>&gt;</code><br />
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:a22615ae4b32f10e2c6b188223d880d0c"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmatter__config__t.html">matter_config_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="app__main_8cpp.html#a22615ae4b32f10e2c6b188223d880d0c">create_temp_sensor</a> (node_t *node)</td></tr>
<tr class="memdesc:a22615ae4b32f10e2c6b188223d880d0c"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function creates a temperature sensor endpoint and associated cluster. The created endpoint and cluster are stored in the returned <a class="el" href="structmatter__config__t.html" title="Holds information related to a particular functionality, such as a sensor or a switch.">matter_config_t</a> structure. The function also sets the name and measured_attribute_id fields of the <a class="el" href="structmatter__config__t.html" title="Holds information related to a particular functionality, such as a sensor or a switch.">matter_config_t</a> structure.  <br /></td></tr>
<tr class="separator:a22615ae4b32f10e2c6b188223d880d0c"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae1883678bcd623aaf8d923e266d7dd39"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmatter__config__t.html">matter_config_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="app__main_8cpp.html#ae1883678bcd623aaf8d923e266d7dd39">create_illumination_sensor</a> (node_t *node)</td></tr>
<tr class="memdesc:ae1883678bcd623aaf8d923e266d7dd39"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates an illumination sensor endpoint and cluster.  <br /></td></tr>
<tr class="separator:ae1883678bcd623aaf8d923e266d7dd39"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a59328e999067142facc069005a4e7e95"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmatter__config__t.html">matter_config_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="app__main_8cpp.html#a59328e999067142facc069005a4e7e95">create_humidity_sensor</a> (node_t *node)</td></tr>
<tr class="memdesc:a59328e999067142facc069005a4e7e95"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function creates an endpoint and a cluster for the humidity sensor. The created endpoint is of type <code>relative_humidity_sensor</code> and the created cluster is of type <code>relative_humidity_measurement</code>.  <br /></td></tr>
<tr class="separator:a59328e999067142facc069005a4e7e95"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a984836eec947badc6e3377b93c3e04b8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structmatter__config__t.html">matter_config_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="app__main_8cpp.html#a984836eec947badc6e3377b93c3e04b8">create_on_off_light</a> (node_t *node)</td></tr>
<tr class="memdesc:a984836eec947badc6e3377b93c3e04b8"><td class="mdescLeft">&#160;</td><td class="mdescRight">This function creates an endpoint and a cluster for an on off light. The created endpoint is of type <code>on_off_light</code> and the created cluster is of type <code>on_off</code>.  <br /></td></tr>
<tr class="separator:a984836eec947badc6e3377b93c3e04b8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afeb6e4acb063e18a3d1a8bcdb75cfaa4"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="app__main_8cpp.html#afeb6e4acb063e18a3d1a8bcdb75cfaa4">update_matter_sensor</a> (<a class="el" href="structmatter__config__t.html">matter_config_t</a> matter_config, esp_matter_attr_val_t *val)</td></tr>
<tr class="memdesc:afeb6e4acb063e18a3d1a8bcdb75cfaa4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Updates the matter sensor with new values.  <br /></td></tr>
<tr class="separator:afeb6e4acb063e18a3d1a8bcdb75cfaa4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:abce06be17fc37d675118a678a8100a36"><td class="memItemLeft" align="right" valign="top"><a id="abce06be17fc37d675118a678a8100a36" name="abce06be17fc37d675118a678a8100a36"></a>
void&#160;</td><td class="memItemRight" valign="bottom"><b>app_main</b> ()</td></tr>
<tr class="memdesc:abce06be17fc37d675118a678a8100a36"><td class="mdescLeft">&#160;</td><td class="mdescRight">Application entrypoint. <br /></td></tr>
<tr class="separator:abce06be17fc37d675118a678a8100a36"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="var-members" name="var-members"></a>
Variables</h2></td></tr>
<tr class="memitem:aba4b84d9a06456f9b8e1cb182c69c8af"><td class="memItemLeft" align="right" valign="top"><a id="aba4b84d9a06456f9b8e1cb182c69c8af" name="aba4b84d9a06456f9b8e1cb182c69c8af"></a>
uint16_t&#160;</td><td class="memItemRight" valign="bottom"><b>light_endpoint_id</b> = 0</td></tr>
<tr class="memdesc:aba4b84d9a06456f9b8e1cb182c69c8af"><td class="mdescLeft">&#160;</td><td class="mdescRight">On off light endpoint identifier. <br /></td></tr>
<tr class="separator:aba4b84d9a06456f9b8e1cb182c69c8af"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Main application file for the ESP32 <a class="el" href="struct_matter.html" title="Holds information related to the scd30 as matter attribute values.">Matter</a> Sensor Test. </p>
<dl class="section author"><dt>Author</dt><dd>Samuel Barrett (samarbarrett) </dd></dl>
<dl class="section version"><dt>Version</dt><dd>0.1 </dd></dl>
<dl class="section date"><dt>Date</dt><dd>2023-02-03</dd></dl>
<dl class="section copyright"><dt>Copyright</dt><dd>This example code is in the Public Domain (or CC0 licensed, at your option.) Unless required by applicable law or agreed to in writing, this software is distributed on an "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. </dd></dl>
</div><h2 class="groupheader">Function Documentation</h2>
<a id="a59328e999067142facc069005a4e7e95" name="a59328e999067142facc069005a4e7e95"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a59328e999067142facc069005a4e7e95">&#9670;&#160;</a></span>create_humidity_sensor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmatter__config__t.html">matter_config_t</a> create_humidity_sensor </td>
          <td>(</td>
          <td class="paramtype">node_t *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function creates an endpoint and a cluster for the humidity sensor. The created endpoint is of type <code>relative_humidity_sensor</code> and the created cluster is of type <code>relative_humidity_measurement</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>Pointer to the node that the endpoint and cluster belong to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="structmatter__config__t.html" title="Holds information related to a particular functionality, such as a sensor or a switch.">matter_config_t</a> structure containing the created endpoint and cluster information. </dd></dl>

</div>
</div>
<a id="ae1883678bcd623aaf8d923e266d7dd39" name="ae1883678bcd623aaf8d923e266d7dd39"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ae1883678bcd623aaf8d923e266d7dd39">&#9670;&#160;</a></span>create_illumination_sensor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmatter__config__t.html">matter_config_t</a> create_illumination_sensor </td>
          <td>(</td>
          <td class="paramtype">node_t *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Creates an illumination sensor endpoint and cluster. </p>
<p>This function creates an endpoint and a cluster for the illumination sensor. The created endpoint is of type <code>illuminance_sensor</code> and the created cluster is of type <code>illuminance_measurement</code>. The created endpoint and cluster are stored in a <code><a class="el" href="structmatter__config__t.html" title="Holds information related to a particular functionality, such as a sensor or a switch.">matter_config_t</a></code> structure and returned as the result of the function.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>Pointer to the node that the endpoint and cluster belong to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Structure containing the created endpoint and cluster information. </dd></dl>

</div>
</div>
<a id="a984836eec947badc6e3377b93c3e04b8" name="a984836eec947badc6e3377b93c3e04b8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a984836eec947badc6e3377b93c3e04b8">&#9670;&#160;</a></span>create_on_off_light()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmatter__config__t.html">matter_config_t</a> create_on_off_light </td>
          <td>(</td>
          <td class="paramtype">node_t *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function creates an endpoint and a cluster for an on off light. The created endpoint is of type <code>on_off_light</code> and the created cluster is of type <code>on_off</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>Pointer to the node that the endpoint and cluster belong to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd><a class="el" href="structmatter__config__t.html" title="Holds information related to a particular functionality, such as a sensor or a switch.">matter_config_t</a> structure containing the created endpoint and cluster information. </dd></dl>

</div>
</div>
<a id="a22615ae4b32f10e2c6b188223d880d0c" name="a22615ae4b32f10e2c6b188223d880d0c"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a22615ae4b32f10e2c6b188223d880d0c">&#9670;&#160;</a></span>create_temp_sensor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structmatter__config__t.html">matter_config_t</a> create_temp_sensor </td>
          <td>(</td>
          <td class="paramtype">node_t *&#160;</td>
          <td class="paramname"><em>node</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>This function creates a temperature sensor endpoint and associated cluster. The created endpoint and cluster are stored in the returned <a class="el" href="structmatter__config__t.html" title="Holds information related to a particular functionality, such as a sensor or a switch.">matter_config_t</a> structure. The function also sets the name and measured_attribute_id fields of the <a class="el" href="structmatter__config__t.html" title="Holds information related to a particular functionality, such as a sensor or a switch.">matter_config_t</a> structure. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">node</td><td>A pointer to the node_t structure</td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A structure that contains information about the created temperature sensor endpoint and cluster </dd></dl>

</div>
</div>
<a id="afeb6e4acb063e18a3d1a8bcdb75cfaa4" name="afeb6e4acb063e18a3d1a8bcdb75cfaa4"></a>
<h2 class="memtitle"><span class="permalink"><a href="#afeb6e4acb063e18a3d1a8bcdb75cfaa4">&#9670;&#160;</a></span>update_matter_sensor()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void update_matter_sensor </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structmatter__config__t.html">matter_config_t</a>&#160;</td>
          <td class="paramname"><em>matter_config</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">esp_matter_attr_val_t *&#160;</td>
          <td class="paramname"><em>val</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Updates the matter sensor with new values. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">matter_config</td><td>Configuration structure for matter sensor </td></tr>
    <tr><td class="paramname">val</td><td>Pointer to the new attribute value to be set </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6
</small></address>
</body>
</html>
